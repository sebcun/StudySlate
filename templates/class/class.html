{% extends "base.html" %} {% block title %} Class | StudySlate {% endblock title
%} {% block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='styles/dashboard.css') }}"
/>
{% endblock styles %} {% block content %}
<div class="d-flex flex-nowrap vh-100">
  <div
    class="d-flex flex-column flex-shrink-0 p-3 sidebar"
    style="width: 280px"
  >
    <a
      href="/"
      class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none"
    >
      <span class="fs-4 fw-bold">StudySlate</span>
    </a>
    <p class="m-0" id="class-name">Loading...</p>
    <hr />
    <ul id="classes-list" class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="/class/{{ class_id }}" class="nav-link">Home</a>
      </li>
      <li class="nav-item">
        <a href="/class/{{ class_id }}/notebook" class="nav-link">Notebook</a>
      </li>
      <li class="nav-item">
        <a href="/class/{{ class_id }}/cuecards" class="nav-link">Cue Cards</a>
      </li>
      <li class="nav-item">
        <a href="/class/{{ class_id }}/todo" class="nav-link">To Do</a>
      </li>
      <li class="nav-item">
        <a href="/class/{{ class_id }}/assignments" class="nav-link"
          >Assignments</a
        >
      </li>
      <li class="nav-item">
        <a href="/class/{{ class_id }}/lockin" class="nav-link"
          >Lock In Timer</a
        >
      </li>
      <hr />
      <li class="nav-item">
        <a href="/dashboard" class="nav-link"
          ><i class="bi bi-arrow-left pe-3"></i> Back</a
        >
      </li>
    </ul>
    <hr />
    <div class="dropdown">
      <a
        href="#"
        class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <strong>Manage Account</strong>
      </a>
      <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
        <li>
          <a class="dropdown-item" href="/logout">Log out</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<script>
  async function loadClass() {
    const classId = "{{ class_id }}";
    try {
      const response = await fetch(`/api/classes/${classId}`);
      if (!response.ok) throw new Error("Failed to fetch class");
      const cls = await response.json();
      document.getElementById("class-name").textContent = cls.name;
    } catch (error) {
      console.error("Error loading class:", error);
      document.getElementById("class-name").textContent = "Class not found";
    }
  }

  document.addEventListener("DOMContentLoaded", loadClass);
</script>
{% endblock content %}
